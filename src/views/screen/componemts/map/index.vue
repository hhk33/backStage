<template>
    <div class="box4" ref="charts">

    </div>
</template>

<script setup lang="ts">
import * as echarts from 'echarts'
import { ref, onMounted } from 'vue'
import chinaJSON from './china.json'

let charts = ref()
//注册地图
echarts.registerMap('china', chinaJSON as any)
onMounted(() => {
    let myEcharts = echarts.init(charts.value)
    myEcharts.setOption({
        //地图组件
        geo: {
            map: 'china',
            roam: true,
            zoom: 1.62,
            top: 190,
            label: {
                show: true,
                color: 'white',
                fontSize: 13
            },
            itemStyle: {
                //每一个多边形的样式
                color: {
                    type: 'linear',
                    x: 0,
                    y: 0,
                    x2: 0,
                    y2: 1,
                    colorStops: [{
                        offset: 0, color: '#0046A8' // 0% 处的颜色
                    }, {
                        offset: 1, color: '#00275E' // 100% 处的颜色
                    }],
                    global: false
                },
            },
            //地图高亮的效果
            emphasis: {
                itemStyle: {
                    color: '#409EFF'
                },
                label: {
                    fontSize: 22,
                    color: 'white'
                }
            },
        },
        series: [
            {
                type: 'lines',//航线
                data: [
                    {
                        coords: [
                            [116.405285, 39.904989], // 起点
                            [119.306239, 26.075302]  // 终点
                        ],
                        lineStyle: {
                            color: 'white',
                            width: 1,
                            curveness: 0.2
                        }
                    },
                    {
                        coords: [
                            [87.617733, 43.792818],  // 起点
                            [119.306239, 26.075302]  // 终点
                        ],
                        lineStyle: {
                            color: 'white',
                            width: 1,
                            curveness: 0.2
                        }
                    },
                    {
                        coords: [
                            [119.306239, 26.075302],
                            [87.617733, 43.792818],
                        ],
                        lineStyle: {
                            color: 'white',
                            width: 1,
                            curveness: 0.2
                        }
                    }
                ],
                //开启动画特效
                effect: {
                    show: true,
                    symbol: 'path://M 995.68 658.818 c -8.94323 -1.49054 -23.8486 -2.98108 -44.7162 -4.47161 c -73.0364 -8.94323 -207.185 -26.8297 -295.127 -38.754 l -19.377 -5.96215 h -2.98108 l -44.7162 -13.4148 c -4.47162 90.9229 -10.4338 166.94 -17.8865 225.071 v 10.4338 l 22.3581 10.4338 l 70.0553 32.7918 c 2.98108 1.49054 4.47162 4.47162 4.47162 7.45269 l 1.49054 55.1499 v 4.47161 c 0 2.98108 -1.49054 5.96215 -4.47162 4.47162 l -114.771 -19.377 c -8.94323 22.3581 -17.8865 34.2824 -31.3013 35.7729 h -1.49054 c -13.4148 0 -23.8486 -11.9243 -31.3013 -35.7729 l -114.771 17.8865 c -2.98108 0 -4.47162 -1.49054 -4.47162 -4.47162 v -4.47162 l 1.49054 -55.1499 c 0 -2.98108 1.49054 -5.96215 4.47161 -7.45269 l 70.0553 -32.7918 l 22.3581 -10.4338 V 819.796 c -5.96215 -58.131 -10.4338 -134.148 -14.9054 -225.071 l -46.2067 13.4148 h -4.47161 l -19.377 4.47162 c -87.9418 10.4338 -222.09 26.8297 -295.127 35.7729 c -20.8675 2.98108 -35.7729 4.47162 -44.7162 4.47162 c -23.8486 2.98108 -25.3392 -26.8297 -7.45269 -37.2635 c 2.98108 -1.49054 56.6405 -29.8108 123.715 -67.0742 v -38.754 c 0 -14.9054 11.9243 -26.8297 26.8297 -26.8297 s 26.8297 11.9243 26.8297 26.8297 v 8.94323 c 40.2445 -20.8675 81.9796 -43.2256 119.243 -64.0932 v -44.7162 c 0 -14.9054 11.9243 -26.8297 26.8297 -26.8297 s 26.8297 11.9243 26.8297 26.8297 v 14.9054 c 23.8486 -11.9243 43.2256 -23.8486 56.6405 -31.3013 c -1.49054 -174.393 11.9243 -308.541 61.1121 -332.39 c 2.98108 -1.49054 4.47162 -1.49054 7.45269 -2.98108 c 1.49054 0 4.47162 0 5.96215 -1.49054 h 5.96215 c 1.49054 0 4.47162 0 5.96215 1.49054 c 2.98108 0 4.47162 1.49054 7.45269 2.98108 c 49.1878 23.8486 62.6026 157.997 58.131 332.39 c 13.4148 7.45269 32.7918 17.8865 55.1499 29.8108 v -14.9054 c 0 -14.9054 11.9243 -26.8297 26.8297 -26.8297 s 26.8297 11.9243 26.8297 26.8297 v 44.7162 c 37.2635 20.8675 78.9985 43.2256 119.243 65.5837 V 506.783 c 0 -14.9054 11.9243 -26.8297 26.8297 -26.8297 s 26.8297 11.9243 26.8297 26.8297 v 44.7162 c 68.5648 37.2635 122.224 67.0742 123.715 68.5648 c 25.3392 10.4338 23.8486 41.7351 -1.49054 38.754 Z',
                    color: 'white',
                    symbolSize: 25,
                    trailLength: 0
                },

            }
        ]
    })
})
</script>

<style lang="scss" scoped>
.box4 {
    margin: 45px 30px 20px 30px;
}
</style>